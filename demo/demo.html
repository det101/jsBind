<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Binding Hello</title>
    <script type="text/javascript" src="../dist/main.bundle.js"></script>
</head>
<body>
    <input id="input1">   </input>
    <input id="input2">   </input>
    <div id="myDiv"></div>
    <script>

        var data = {first: {value:12}};
        var data2 = {value: 1};
        var data3 = {value: 200};
        let input1 = document.getElementById('input1');
        let input2 = document.getElementById('input2');
        let myDiv = document.getElementById('myDiv');

        myDiv.addEventListener('click', function() {
            watcher.unwatch();
        });
        let watcher = BindingUtils.bindProperty(myDiv, 'innerHTML', data3, ['a']);

        BindingUtils.bindSetter(function(vaule) {
            if(vaule > 500) {
                input1.value = vaule;
            }

        }, data, ['first','value']);
        setInterval(function() {
            data.first = {value : Math.floor(Math.random()*1000)};
            data2.value += 1;
            data3.value += 1;
        } ,1000);
    </script>
</body>
</html>